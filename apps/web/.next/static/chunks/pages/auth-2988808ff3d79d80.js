(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[473],{1485:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth",function(){return s(403)}])},403:function(e,t,s){"use strict";s.r(t);var o=s(2322),r=s(2382),n=s(5632);s(2784);var a=s(2202),i=s(509),u=s(3542);t.default=(0,i.Z)(()=>{let e=(0,n.useRouter)(),{BASEURL:t}=u.env;return(0,o.jsx)("button",{onClick:()=>{(0,r.Z)({baseURL:t||"http://localhost:3000/api",url:"/auth/get",method:"GET",headers:{"Content-Type":"application/json",Authorization:sessionStorage.getItem("creatorToken"),"Access-Control-Allow-Origin":"http://localhost:3000"}}).then(async t=>{a.Am.success("Redirecting to auth page :) "),e.push(t.data.authUrl)}).catch(e=>{if(e){if(e.response){a.Am.error(e.response.data.message);return}a.Am.error(e.message);return}})},children:"Auth"})})},509:function(e,t,s){"use strict";var o=s(2322),r=s(2382),n=s(5632),a=s(2784),i=s(2202),u=s(3542);t.Z=e=>t=>{let s=(0,n.useRouter)(),{BASEURL:c}=u.env,h=async()=>{(0,r.Z)({baseURL:c||"http://localhost:3000/api",url:"/auth/me",method:"GET",headers:{"Content-Type":"application/json",Authorization:sessionStorage.getItem("creatorToken")}}).then(e=>{e.data.isValid||(i.Am.error(e.data.message),sessionStorage.clear(),s.push("/login"))}).catch(e=>{e&&!e.response.isValid&&(i.Am.error(e.response.data.message),sessionStorage.clear(),s.push("/login"))})};return(0,a.useEffect)(()=>{sessionStorage.getItem("creatorToken")&&0!=sessionStorage.getItem("creatorToken").length?h():(sessionStorage.clear(),s.push("/login"))},[]),(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(e,{...t})})}}},function(e){e.O(0,[382,774,888,179],function(){return e(e.s=1485)}),_N_E=e.O()}]);